<!--
  Original Licence:

  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)
                 Brad Neuberg
                 Peter O'Shaughnessy

  Re-purposed and heavily modified by Peter O'Shaughnessy

  AR demo based on HTML5 Rocks Demo by Ilmari Heikkinen
  See: http://www.html5rocks.com/en/tutorials/webgl/jsartoolkit_webrtc/
  Refactored heavily by Peter O'Shaughnessy

  IMPORTANT:
  Best in:
   - Chrome Dev or Chrome Canary with MediaStream enabled
   - 1024 x 768 screen resolution
-->
<html>
<head>
    <title>AR for Web Devs</title>
    <script src="js/jquery-1.7.2.js"></script>
    <script src="js/JSARToolKit.js"></script>
    <script src="js/Three.js"></script>
    <!--<script src='js/ARDinosaur.js'></script>-->
    <script src="js/hasAttr.js"></script>
    <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>

    <div class="presentation">
        <div class="slides">

            <div class="slide intro">
                <h1>Augmented Reality for Web Developers</h1>
                <h2>Peter O'Shaughnessy</h2>
                <h3>@poshaughnessy</h3>
                <div id="windowSize">You're viewing at <span id="windowWidth">...</span> by <span id="windowHeight">...</span><br/>
                    Best viewed in 4:3 ratio and ideally 1024x768 (standard projector resolution)</div>
            </div>

            <div class="slide">
                <h2 class="central oneline">&ldquo;Who are you?&rdquo;</h2>
            </div>

            <div class="slide pearson">
                <img src="img/pearson-logo.png" width="50%"/>
            </div>

            <div class="slide">
                <h2 class="top">Coming Up:</h2>
                <ol>
                    <li><span>What is AR?</span></li>
                    <li><span>What we did with it</span></li>
                    <li><span>Wikitude ARchitect</span></li>
                    <li><span>WebRTC</span></li>
                    <li><span>Wrapping up</span></li>
                </ol>
            </div>

            <div class="slide augma-what">
                <h2 class="central"><em>1.</em><br/>&ldquo;Augma<em>what?</em>&rdquo;</h2>
            </div>

            <div class="slide what-ar-is">
                <figure>
                    <img src="img/what-ar-is.jpg" width="100%"/>
                    <figcaption>flickr.com/photos/turkletom</figcaption>
                </figure>
                <h2 class="bottom">The Real World. With Added Value.</h2>
            </div>

            <div class="slide">
                <img src="img/ar-apps.png" height="100%"/>
            </div>

            <div class="slide location-based-ar">
                <figure>
                    <img src="img/wikitude-locations.jpg" height="100%"/>
                    <figcaption>Wikitude</figcaption>
                </figure>
            </div>

            <div class="slide">
                <figure>
                    <img src="img/wtf-qr-codes.jpg" height="100%"/>
                    <figcaption>wtfqrcodes.com</figcaption>
                </figure>
            </div>

            <div class="slide">
                <h2 class="central oneline">bit.ly/handyurl</h2>
            </div>

            <!--
            <div class="slide qrcode-race">
                <h2 class="top">Let's race!</h2>
                <div class="twocols">
                    <div class="left">
                        <img src="img/qr-link-to-pictures-of-people-scanning-them.png"/>
                    </div>
                    <div class="right">
                        <h3>bit.ly/handyurl</h3>
                    </div>
                </div>
            </div>
            -->

            <div class="slide">
                <img src="img/word-lens.jpg" height="100%"/>
            </div>

            <div class="slide">
                <img src="img/google-glasses-1.jpg" height="100%"/>
                <div class="caption">Google</div>
            </div>

            <div class="slide ar-on-the-go">
                <figure>
                    <img src="img/future-of-augmented-reality.jpg" width="100%"/>
                    <figcaption class="bothsides">
                        <span class="left">Hidden Creative: 'The Future of Augmented Reality'</span>
                        <span class="right">youtube.com/user/hiddencreative</span>
                    </figcaption>
                </figure>
            </div>

            <div class="slide ar-in-the-home">
                <figure>
                    <img src="img/ar-in-the-home.jpg" width="100%"/>
                    <figcaption class="bothsides">
                        <span class="left">Keiichi Matsuda: 'Augmented (Hyper)Reality'</span>
                        <span class="right">youtube.com/user/chocobaby2000</span>
                    </figcaption>
                </figure>
            </div>

            <div class="slide">
                <img src="img/terminator-vision.jpg" height="100%"/>
            </div>

            <div class="slide langar-intro">
                <img src="img/langar-logo.png"/>
                <h2 class="central withimage"><em>2.</h2>
            </div>

            <div class="slide">
                <img src="img/langar-1.jpg" width="100%"/>
            </div>

            <div class="slide">
                <img src="img/langar-2.jpg" width="100%"/>
            </div>

            <div class="slide">
                <img src="img/langar-3.jpg" width="100%"/>
            </div>

            <div class="slide wikitude-intro">
                <h2 class="central withimage"><em>3.</em></h2>
                <img src="img/wikitude-architect.png"/>
            </div>

            <div class="slide">
                <img src="img/wikitude-location-based.jpg" width="100%"/>
                <h2 class="bottom">Location based</h2>
            </div>

            <div class="slide">
                <img src="img/multi-platform.jpg" width="100%"/>
                <h2 class="bottom">Multi-platform</h2>
            </div>

            <div class="slide">
                <img src="img/langar-1.jpg" height="81%"/>
                <h2 class="bottom">Render things at locations</h2>
            </div>

            <div class="slide">
                <img src="img/langar-2.jpg" height="81%"/>
                <h2 class="bottom">Launch popups / pages</h2>
            </div>

            <div class="slide">
                <img src="img/langar-3.jpg" height="81%"/>
                <h2 class="bottom">Play multimedia</h2>
            </div>

            <div class="slide">
                <img src="img/wikitude-geotriggers.jpg" height="81%"/>
                <h2 class="bottom">Geo triggers</h2>
            </div>

            <div class="slide">
                <img src="img/wikitude-field-of-vision.jpg" height="81%"/>
                <h2 class="bottom">Field of view triggers</h2>
            </div>

            <div class="slide wikitude-how">
                <h2 class="central oneline">&ldquo;How?&rdquo;</h2>
            </div>

            <div class="slide wikitude-com">
                <h2 class="central oneline">wikitude.com</h2>
            </div>

            <div class="slide">
                <h2 class="central oneline">ARchitect Tools</h2>
            </div>

            <div class="slide amv">
                <h2 class="top">AMV<br/><small>ARchitect Mobile Viewer</small></h2>
                <img src="img/architect-mobile-viewer.png" height="65%"/>
            </div>

            <div class="slide">
                <h2 class="top">Hello AR</h2>
                <pre>
 &lt;html>
 &lt;head>

     &lt;meta charset="utf-8"/>
     &lt;title>Hello AR!&lt;/title>
     <b>&lt;!-- ARchitect framework - for the phone --&gt;</b>
     &lt;script src="architect://architect.js">&lt;/script>
     <b>&lt;!-- ARchitect Desktop Engine - for the desktop --&gt;</b>
     &lt;script src="js/ade.js">&lt;/script>

 &lt;/head>
 &lt;body>

     <b>&lt;!-- Transparent overlay on top of camera view --&gt;</b>
     &lt;h1>Hello AR!&lt;/h1>

 &lt;/body>
 &lt;/html>
                </pre>
            </div>

            <div class="slide architect-results">
                <h2 class="top">Looks like this on desktop</h2>
                <a href="http://dl.dropbox.com/u/37726670/architecttest/1.html" target="_blank">
                    <img src="img/hello-ar-desktop.png" width="68%"/>
                </a>
                <h3 class="bottom">Pretty, huh?</h3>
            </div>

            <div class="slide architect-results">
                <h2 class="top">Looks like this on mobile</h2>
                <img src="img/hello-ar-mobile.jpg" height="62%"/>
                <h3 class="bottom">Nearly ready for the app store!</h3>
            </div>

            <div class="slide adding-locations">
                <h2 class="top">Adding locations</h2>
                <pre>
<b>AR.context.onLocationChanged</b> = function(lat, lon, alt, acc) {

  <em>// Add a random point of interest near to the user</em>

  var objectLat = lat + ((Math.random()-0.5) / 1000);

  var objectLong = lon + ((Math.random()-0.5) / 1000);

  var geoLocation = new <b>AR.GeoLocation</b>(objectLat, objectLong);

  var circle = new <b>AR.Circle</b>(5, {style: {fillColor: '#FF0000'}});

  var geoObject = new <b>AR.GeoObject</b>(geoLocation,
          {drawables: {cam: circle}});

}
                </pre>
            </div>

            <div class="slide architect-results">
                <h2 class="top">Looks like this on desktop</h2>
                <a href="http://dl.dropbox.com/u/37726670/architecttest/2.html" target="_blank">
                    <img src="img/adding-locations-desktop.png" width="68%"/>
                </a>
                <h3 class="bottom">Debugger's delight!</h3>
            </div>

            <div class="slide architect-results">
                <h2 class="top">Looks like this on mobile</h2>
                <img src="img/adding-locations-mobile.jpg" height="62%"/>
                <h3 class="bottom">AR at its finest!</h3>
            </div>

            <div class="slide custom-icons">
                <h2 class="top">Let's add dinosaurs!</h2>
                <pre>
 var icon = new <b>AR.imageResource</b>('img/<em>dinosaur.png</em>',
       {onLoaded: loadedIcon});

 function loadedIcon() {

   var drawable = new <b>AR.ImageDrawable</b>(icon, 4,
         {enabled: true, triggers: {onClick: showCafe}});

   var myGeoObject = new AR.GeoObject(myGeoLocation,
         {drawables: {cam: drawable}});

 }
                </pre>
                <img src="img/trex.png" height="25%"/>
            </div>

            <div class="slide audio">
                <h2 class="top">And make 'em noisy</h2>
                <pre>
var soundToStream = new <b>AR.Sound</b>('<em>tyrannosaurus-roar.mp3</em>',
        {onError: errorLoadingSound,
         onFinishedPlaying: finishedPlaying});

soundToStream.<em>play</em>();


var soundToPreload = new <b>AR.Sound</b>('<em>stegosaurus-stomp.mp3</em>',
        {onError: errorLoadingSound,
         onLoaded: readyToPlay,
         onFinishedPlaying: finishedPlaying});

soundToPreload.<em>load</em>();
                </pre>
            </div>

            <div class="slide debugging">
                <h2 class="top">Debugging those dinos</h2>
                <img src="img/debugging.jpg" width="39%"/>
                <pre>
 <b>AR.logger.activateDebugMode</b>();

 function finishedPlaying() {
   <b>AR.logger.info</b>('Tada!');
 }

 function errorLoadingSound() {
   <b>AR.logger.error</b>('Uh oh');
 }
                </pre>
            </div>

            <div class="slide next-steps">
                <h2 class="central">&ldquo;I have a red circle & some dinosaurs...<br/>
                <strong><em>Let's push it live!&rdquo;</em></strong></h2>
            </div>

            <div class="slide next-steps-two">
                <h2 class="top">Decisions decisions...</h2>
                <div class="twocols">
                    <div class="left">
                        <img src="img/wikitude-all-worlds.jpg" height="65%"/>
                    </div>
                    <div class="right">
                        <img src="img/xcode.jpg" width="88%"/>
                    </div>
                </div>
            </div>

            <div class="slide native">
                <h2 class="top">Uh oh, the native bit!</h2>
                <pre>
  @property (nonatomic, retain) <b>WTArchitectView</b> *arView;

  ...

  NSString *myWorldURL = [[NSBundle mainBundle]
          pathForResource:@"<em>MyDinoWorld</em>" ofType:@"html"];

  [self.arView <b>loadArchitectWorldFromUrl</b>:myWorldURL]
                </pre>
            </div>

            <div class="slide">
                <h2 class="central"><em>4.</em><br/>WebRTC</h2>
            </div>

            <div class="slide">
                <img src="img/webcam.jpg" height="100%"/>
            </div>

            <div class="slide opera-webcam">
                <figure>
                    <img src="img/opera-webcam.jpg" height="81%"/>
                    <figcaption class="centre">neave.com/webcam/html5</figcaption>
                </figure>
            </div>

            <div class="slide vertical-images">
                <figure>
                    <img src="img/protothon1.png" width="55%"/>
                    <img src="img/protothon2.png" width="55%"/>
                    <figcaption class="bothsides">
                        <span class="left">Post-it note Ping Pong</span>
                        <span class="right">http://bit.ly/protothon</span>
                    </figcaption>
                </figure>
            </div>

            <div class="slide">
                <h2 class="central">WebRTC + JSARToolkit <br/> = AR on the Web</h2>
            </div>

            <div class="slide webrtc-demo">
                <section>
                    <h2 class="top">Live In-Slides Demo!</h2>
                    <div id="webRTCDemo">
                        <div class="left"></div>
                        <div class="right"></div>
                    </div>
                    <div class="cant-do-demo-message">
                        <h3>Sorry, it seems that your browser can't run this demo!</h3>
                        <h4>Please try in Google Chrome Dev or Canary with the MediaStream flag enabled.</h4>
                        <h4>You will also need to click 'Allow' on the camera prompt.</h4></h3>
                        <h4>For more info, see: <a href="http://www.webrtc.org/running-the-demos" target="_blank">webrtc.org/running-the-demos</a></h4>
                    </div>
                </section>
            </div>

            <div class="slide webrtc-code">
                <h2 class="top">Get User Media</h2>
                <pre>
  navigator.<b>getUserMedia</b>({video:true}, gotStream);

  function gotStream(stream) {

    <em>// Obtain a blob URL reference to the stream object</em>
    var url = createObjectURL(stream);

    <em>// And feed it into the video element</em>
    video.src = url;

  }
                </pre>
            </div>

            <div class="slide webrtc-code-two">
                <h2 class="top">JSARToolkit detector</h2>
                <pre>
  <em>// Draw video onto canvas</em>
  <b>canvasContext</b>.drawImage(<b>video</b>, 0, 0, width, height);

  <em>// Raster object reads image data from canvas</em>
  <b>raster</b> = new NyARRgbRaster_Canvas2D(<b>canvas</b>);

  <em>// Detection engine - detects multiple markers</em>
  detector = new <b>FLARMultiIdMarkerDetector</b>(param, mWidth);

  <em>// Gets number of detected markers</em>
  var count = detector.<b>detectMarkerLite</b>(<b>raster</b>, thresh);

  <em>// Get transformation matrix from specific marker</em>
  detector.<b>getTransformMatrix</b>(index, resultMatrix);

                </pre>
            </div>

            <div class="slide webrtc-code-three">
                <h2 class="top">WebGL / Three.js</h2>
                <pre>
  loader = new THREE.<b>JSONLoader</b>();

  loader.load( '<em>stegosaurus.js</em>', function(geometry) {

    model = new THREE.Mesh(geometry, material);

  });

  ...

  scene.add(model);
  model.matrix.setFromArray(transformMatrix);
                </pre>
            </div>

            <div class="slide tutorial">
                <h2>Full tutorial @ HTML5 Rocks</h2>
                <h3>bit.ly/jsartoolkit</h3>
                <img src="img/html5-rocks.jpg" height="65%"/>
                <div class="caption">flickr.com/photos/hanok</div>
            </div>

            <div class="slide">
                <h2 class="central"><em>5.</em><br/>A call to ARms</h2>
            </div>

            <div class="slide">
                <h2 class="central oneline">Get Ready. Because...</h2>
            </div>

            <div class="slide future-will-be-augmented">
                <h2 class="left">The Future<br/><strong>will be</strong><br/>Augmented.</h2>
                <div class="caption">Google</div>
            </div>

            <div class="slide thankyou">
                <h2>And lastly...</h2>
                <h3>Wikitude commercial SDK <br/> 20% discount code: <div>KWNGLQ93</div></h3>
                <h3>How many dinosaurs?</h3>
                <p>Find me on Twitter @poshaughnessy</p>
                <div class="caption">flickr.com/photos/dalton_mcdavid_reed</div>
            </div>

        </div>
    </div>

    <!-- This must be at the bottom of the page -->
    <script src="js/main.js" type="text/javascript"></script>
</body>
</html>
